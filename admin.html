<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <title>ADM - Gest√£o de Vendas</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-slate-50 p-6">
    <div class="flex justify-between items-center mb-10">
        <div>
            <h1 class="text-3xl font-black text-slate-900">PAINEL DE COMANDOS</h1>
            <p class="text-slate-500">Gest√£o de Pedidos e Faturamento</p>
        </div>
        <div class="bg-white p-4 rounded-3xl shadow-sm text-right">
            <p class="text-[10px] uppercase font-bold text-gray-400">Vendas de Hoje</p>
            <p id="total-vendas" class="text-2xl font-black text-green-600">R$ 0,00</p>
        </div>
    </div>

    <div id="lista-adm" class="grid gap-6"></div>

    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
        import { getDatabase, ref, onValue, update } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-database.js";

        const firebaseConfig = { /* COLE O SEU CONFIG AQUI */ };
        const app = initializeApp(firebaseConfig);
        const db = getDatabase(app);

        onValue(ref(db, 'pedidos'), (snapshot) => {
            const pedidos = snapshot.val();
            const container = document.getElementById('lista-adm');
            let totalDia = 0;
            container.innerHTML = "";

            for(let id in pedidos) {
                const p = pedidos[id];
                if(p.status === 'concluido') { totalDia += p.total; continue; }

                container.innerHTML += `
                    <div class="bg-white p-6 rounded-[35px] shadow-sm border border-gray-100">
                        <div class="flex justify-between mb-4">
                            <span class="text-xs bg-purple-100 text-purple-700 px-3 py-1 rounded-full font-bold">‚óè Status: ${p.status}</span>
                            <span class="text-xs text-gray-400">${p.data}</span>
                        </div>
                        <h2 class="text-xl font-bold">${p.item}</h2>
                        <p class="text-sm text-purple-600 font-bold mb-2">+ ${p.adicionais.join(', ')}</p>
                        <p class="text-sm text-gray-500 mb-6 italic">üìç ${p.cliente}</p>
                        
                        <div class="flex gap-2">
                            ${p.status === 'pendente' ? 
                                `<button onclick="window.atualizar('${id}', 'preparando')" class="flex-1 bg-purple-600 text-white py-3 rounded-2xl font-bold">Aceitar Pedido</button>` : 
                                `<button onclick="window.atualizar('${id}', 'entrega')" class="flex-1 bg-orange-500 text-white py-3 rounded-2xl font-bold">Enviar p/ Entrega üõµ</button>`
                            }
                        </div>
                    </div>
                `;
            }
            document.getElementById('total-vendas').innerText = `R$ ${totalDia.toFixed(2)}`;
        });

        window.atualizar = (id, status) => {
            update(ref(db, `pedidos/${id}`), { status });
        };
    </script>
</body>
</html>
